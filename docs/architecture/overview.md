# システム概要と設計思想

**作成日**: 2024年12月
**更新日**: 2025年12月

---

## 1. システム概要

習い事教室における**日々のレッスン運営**と**発表会・イベント運営**の課題を解決する多言語対応マルチテナントWebシステム。

### 1.0 マルチテナント対応

本システムは**シングルバイナリ・マルチテナント**設計を採用し、1つのアプリケーションで複数の教室（テナント）を運営可能。

**対応可能な教室種別**:
- バレエ教室
- ダンススクール
- 音楽教室
- 体操教室
- その他習い事教室

**テナント固有設定**: 各テナントの固有設定は別ファイル（例: `TenantConfig-BalletSchool.md`）で管理。

### 1.1 コアバリュー

- **情報の可視化**: 「何が決まっていて何が決まっていないか」を明確化
- **芸術的判断の尊重**: 直前までの変更に対応できる柔軟性
- **言語の壁の解消**: 日本語・英語・ロシア語での情報アクセス
- **双方向コミュニケーション**: 保護者からのステータス報告・問い合わせの構造化
- **プライバシー保護**: 個人の行動情報（いつ・誰が・どこにいるか）を適切に保護

### 1.2 主要機能

#### レッスン管理
- 通常レッスンスケジュールの管理
- **臨時レッスン**の通知と参加/不参加の応答
- **休校連絡**と確認応答の管理
- 欠席連絡の受付

#### 発表会管理
- 発表会・演目・キャスティング管理
- 準備物（衣装・小道具）のステータス追跡
- 裏方タスクの管理と割り当て

#### 共通機能
- 多言語対応（選択的翻訳方式）
- LINE通知連携
- **プライバシーに配慮した情報公開制御**

---

## 3. 設計思想

### 3.1 普遍的なプロジェクト構造

本システムは「バレエ教室の発表会管理」という具体的な課題を解決しますが、その本質は以下の普遍的なプロジェクト構造に基づいています：

**プロジェクト管理の基本構造**

```
[企画・計画]
    ↓
[マイルストーン設定] → チェックポイントの定義
    ↓
[タスク分解] → 依存関係の明確化
    ↓
[担当者割り当て] → 責任の明確化
    ↓
[メンバーへの周知] → 情報共有と通知
    ↓
[進捗追跡] → チェックリストとステータス管理
    ↓
[完了確認] → Definition of Done
```

この構造は、ソフトウェア開発、イベント企画、製品発売準備など、あらゆるプロジェクトに共通します。

### 3.2 柔軟性の確保

**固定化を避ける設計**

- 衣装・小道具・裏方タスクを統一的な「準備物・タスク」概念として扱う
- カテゴリやステータスは管理者が定義可能
- 関連付けは多対多で柔軟に設定

**変更への対応**

- 演目・出演者の直前変更に対応
- 準備物の追加・削除が容易
- ステータスのカスタマイズが可能

**テンプレートによる効率化**

- 過去のプロジェクト（発表会）をテンプレートとして再利用
- 定型タスクのパターン化
- ベストプラクティスの蓄積

### 3.3 情報の可視化

**決定事項と未定事項の分離**

- 確定フラグによる明示的な状態管理
- 「TBD（未定）」状態の可視化
- 変更履歴の追跡（いつ、誰が、何を変更したか）

**ステータスの一元管理**

- 準備物の進捗を個別に追跡
- 未対応事項の自動検出
- ダッシュボードでの全体把握

**多角的なビュー**

- リスト表示：詳細な情報確認
- カンバン表示：ステータス別の俯瞰
- タイムライン表示：期日ベースの計画確認
- 依存関係図：タスク間の関係性の可視化

### 3.4 責任の明確化

**RACI モデルの簡略適用**

- **Responsible（実行者）**: 誰がタスクを実行するか
- **Accountable（責任者）**: 誰が最終確認するか
- **Informed（通知先）**: 誰に進捗を伝えるか

**完了条件（Definition of Done）の明示**

- 何をもって「完了」とするかの定義
- 曖昧な状態の排除
- 認識のずれの防止

### 3.5 依存関係とクリティカルパス

**タスク間の依存関係**

- 「AタスクはBタスクの完了後に開始」という関係性の明示
- ブロッカーの可視化（何が進行を妨げているか）
- 依存関係に基づく自動アラート

**マイルストーンによる進捗管理**

- 中間チェックポイントの設定
- マイルストーンごとの達成状況の可視化
- 遅延の早期発見

### 3.6 運用負荷の最小化

**最小限の運用体制**

- 先生 + システム + 片手間の補助で運営可能
- 自動翻訳による多言語対応
- LINE通知による最低限の連絡

**効率的な翻訳戦略**

- 編集時に翻訳を事前生成（リアルタイム翻訳を避ける）
- 翻訳対象の選別（必要なものだけ翻訳）
- コンテキスト情報の活用
